syntax = "proto3";

package defense;

option java_multiple_files = true;
option java_package = "com.deb.spring_boot_grpc_bidirectional_streaming_server.defense";

message DefenseMessage {
    string unitId = 1;
    string type = 2; // "TELEMETRY", "COMMAND", etc.
    string payload = 3;
    int64 timestamp = 4;
}

service DefenseBiDiService {
    rpc exchangeData (stream DefenseMessage) returns (stream DefenseMessage);
}